{% extends "layout.html" %}
{% block content %}
<h2>{{ "All Issued Books Records" if is_librarian else "My Issued Books" }}</h2>

{% if not is_librarian %}
    <p><strong>Total Books Issued:</strong> {{ book_count }}</p>
{% endif %}

<table style="width: 100%; border-collapse: collapse;">
    <thead>
        <tr>
            <th style="border: 1px solid #ccc; padding: 8px;">ID</th>
            <th style="border: 1px solid #ccc; padding: 8px;">Book ID</th>
            <th style="border: 1px solid #ccc; padding: 8px;">Title</th>
            <th style="border: 1px solid #ccc; padding: 8px;">Author</th>
            <th style="border: 1px solid #ccc; padding: 8px;">Issued By</th>
            <th style="border: 1px solid #ccc; padding: 8px;">Issue Date</th>
            <th style="border: 1px solid #ccc; padding: 8px;">Return Date</th>
        </tr>
    </thead>
    <tbody>
        {% for rec in records %}
        <tr>
            <td style="border: 1px solid #ccc; padding: 8px;">{{ rec[0] }}</td>
            <td style="border: 1px solid #ccc; padding: 8px;">{{ rec[1] }}</td>
            <td style="border: 1px solid #ccc; padding: 8px;">{{ rec[2] }}</td>
            <td style="border: 1px solid #ccc; padding: 8px;">{{ rec[3] }}</td>
            <td style="border: 1px solid #ccc; padding: 8px;">{{ rec[4] }}</td>
            <td style="border: 1px solid #ccc; padding: 8px;">{{ rec[5] }}</td>
            <td style="border: 1px solid #ccc; padding: 8px;">{{ rec[6] }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="7" style="text-align:center; padding: 10px;">No records found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>


<style>
    h2 {
      color: #4361ee;
      font-weight: 700;
      margin-bottom: 1rem;
    }
  
    p {
      font-size: 1.1rem;
      margin-bottom: 1.5rem;
    }
  
    table {
      width: 100%;
      border-collapse: collapse;
      background: rgba(255, 255, 255, 0.85); /* transparent white */
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }
  
    thead tr {
      background-color: rgba(67, 97, 238, 0.1);
    }
  
    thead th {
      border-bottom: 2px solid #4361ee;
      padding: 12px 10px;
      text-align: left;
      color: #2b2d42;
      font-weight: 600;
    }
  
    tbody tr:hover {
      background-color: rgba(67, 97, 238, 0.15);
    }
  
    tbody td {
      border-bottom: 1px solid #ccc;
      padding: 10px 8px;
      color: #212529;
    }
  
    tbody tr:last-child td {
      border-bottom: none;
    }
  
    tbody tr td[colspan="7"] {
      text-align: center;
      font-style: italic;
      color: #666;
      padding: 20px 0;
    }
  </style>
  
{% endblock %}
